{% extends 'admin_base.html' %} {% load static %} {% block content %}

<div class="container">
  <h2 class="mb-4"><i class="fas fa-list"></i>Manage Results</h2>
  {% if messages %} {% for message in messages %}
  <div
    class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{message.tags}}{% endif %} alert-dismissible fade show"
    role="alert"
  >
    {{ message }}
    <button
      type="button"
      class="btn-close"
      data-bs-dismiss="alert"
      aria-label="Close"
    ></button>
  </div>
  {% endfor %} {% endif %}

  <table class="table table-striped table-bordered">
    <thead class="table-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Student Name</th>
        <th scope="col">Roll ID</th>
        <th scope="col">Class</th>
        <th scope="col">Reg. Date</th>
        <th scope="col">Status</th>
        <th scope="col">Action</th>
      </tr>
    </thead>

    <tbody>
      {% for result in results %}
      <tr>
        <td scope="col">{{forloop.counter}}</td>
        <td scope="col">{{result.student.name}}</td>
        <td scope="col">{{result.student.roll_id}}</td>
        <td scope="col">
          {{result.class.class_name}} - Section {{result.class.section}}
        </td>
        <td scope="col">{{result.reg_date}}</td>
        <td scope="col">
          {% if result.student.status == 1 %}
          <span class="badge bg-success">Active</span>
          {% else %}
          <span class="badge bg-danger">Inactive</span>
          {% endif %}
        </td>

        <td scope="col">
          <a href="{% url 'edit_result' result.student.id %}" class="btn btn-sm btn-primary"
            ><i class="fas fa-edit"></i>
            Edit
          </a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="8" class="text-center">No Student found.</td>
        {% endfor %}
      </tr>
    </tbody>
  </table>
</div>

{% endblock %}
